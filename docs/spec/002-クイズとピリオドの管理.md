# 002 - クイズとピリオドの管理

## 概要
管理者がクイズ問題とピリオドを作成・管理するための機能。

## ユーザーストーリー

---

### US-002-01: クイズイベントの設定
**As an** admin  
**I want to** 複数のピリオドをまとめたクイズイベントを作成する  
**So that** イベント全体を管理できる

#### 受け入れ基準
- [x] クイズイベント作成画面が利用できる
- [x] イベントに名前を付けられる（例: "2025年10月クイズ大会"）
- [x] イベントの説明文を追加できる

#### 技術的考慮事項
- イベント、ピリオド、問題の階層構造を管理
- 現在進行中のイベントは1つのみ

---

### US-002-02: ピリオドの作成
**As an** admin  
**I want to** ピリオドを作成する
**So that** イベントごとにセクションを作成できる

#### 受け入れ基準
- [x] イベントごとにピリオド一覧を確認できる
- [x] ピリオド作成画面が利用できる
- [x] ピリオドに名前を付けられる（例: "第1ピリオド"）
- [x] ピリオド更新画面が利用できる
- [x] ピリオド一覧画面で削除とピリオドの順序変更ができる
  - [x] 順序変更はドラッグ&ドロップまたは上下ボタンで順序を変更できる

#### 技術的考慮事項
- ピリオドの順序情報を保持
- 順序変更時にユーザーに確認を行う

---

### US-002-03: クイズ問題の作成
**As an** admin  
**I want to** クイズ問題を作成する  
**So that** ユーザーに出題できる

#### 受け入れ基準
- [ ] admin画面でピリオドごとにクイズ一覧を確認できる
- [ ] クイズ作成画面が利用できる
- [ ] 入力項目:
  - 問題文（必須、1000文字以内）
  - **問題画像（任意）**
  - 選択肢（2〜4個、各200文字以内）
  - **各選択肢の画像（任意）**
  - 正解（選択肢から1つ選択）
- [ ] 問題の保存ができる
- [ ] クイズ更新画面が利用できる
- [ ] クイズ一覧画面で削除とクイズの順序変更ができる
  - [ ] 順序変更はドラッグ&ドロップまたは上下ボタンで順序を変更できる

#### 技術的考慮事項
- 問題データの永続化
- 問題の編集・削除機能も検討
- クイズの順序情報を保持
- 順序変更時にユーザーに確認を行う

---

### US-002-04: 問題の事前プレビュー
**As an** admin  
**I want to** 作成した問題を事前にプレビューする  
**So that** 問題に誤りがないか確認できる

#### 受け入れ基準
- [ ] 問題の一覧画面からプレビューボタンでプレビューできる
- [ ] ユーザーに表示される形式で問題が表示される
- [ ] 正解も確認できる

---

### US-002-05: イベントの開始・終了制御
**As an** admin  
**I want to** イベントのステータスを管理し、開始・終了を制御する  
**So that** イベント全体の流れを制御できる

#### 受け入れ基準
- [x] イベントのステータスを確認できる（ドラフト、実施中、一時停止、完了）
- [x] ステータスを変更できる
- [ ] ドラフト→実施中への変更時に必須項目（ピリオド等）をチェックできる
- [ ] 実施中のイベントは1つのみに制限できる
- [ ] イベント完了後はユーザーが参加できなくなる

#### 技術的考慮事項
- ステータス遷移ルールの実装
- 実施中のイベント数をチェック

---

## 非機能要件
- **使いやすさ**: 管理画面は直感的で操作しやすいUI
  - 背景色と同じ文字カラーは避け、読みやすいUIにする
- **データ整合性**: 問題やピリオドの削除時に依存関係をチェック

## 依存関係
- なし（001と並行して実装可能）

## 備考
- 問題のインポート/エクスポート機能（CSV、JSON等）も将来的に検討
